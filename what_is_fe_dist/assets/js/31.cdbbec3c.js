(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{396:function(t,e,s){"use strict";s.r(e);var r=s(27),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"关于规范化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于规范化"}},[t._v("#")]),t._v(" 关于规范化")]),t._v(" "),s("h2",{attrs:{id:"规范化介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#规范化介绍"}},[t._v("#")]),t._v(" 规范化介绍")]),t._v(" "),s("p",[t._v("规范化是我们践行前端工程化的重要组成部分。")]),t._v(" "),s("p",[t._v("软件开发需要多人协同，不同开发者具有不同的编码习惯和喜好，不同的喜好增加项目的维护成本，所以每个项目或者团队需要明确统一的"),s("strong",[t._v("规范法")]),t._v("标准。")]),t._v(" "),s("p",[t._v("在开发中人为编写的成果如代码、文档甚至是提交日志都需要规范化标准，其中代码规范化尤为重要。")]),t._v(" "),s("p",[s("strong",[t._v("实施规范化的方法")])]),t._v(" "),s("ul",[s("li",[t._v("编码前人为的标准约定")]),t._v(" "),s("li",[t._v("通过工具实现 Lint(ESLint 和 StyleLint)")])]),t._v(" "),s("h2",{attrs:{id:"eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[t._v("#")]),t._v(" ESLint")]),t._v(" "),s("p",[t._v("ESLint 是最为主流的 JavaScript Lint 工具监测 JS 代码质量,可以统一开发者的编码风格，也可以帮助开发者提升编程能力。")]),t._v(" "),s("h3",{attrs:{id:"使用-eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-eslint"}},[t._v("#")]),t._v(" 使用 ESLint")]),t._v(" "),s("p",[t._v("安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install eslint\n")])])]),s("p",[t._v("初始化 eslint,回答一系列问题之后会帮助我们完成 eslint 配置")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npx eslint --init\n")])])]),s("h3",{attrs:{id:"eslint-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-配置文件"}},[t._v("#")]),t._v(" ESLint 配置文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('module.exports = {\n  env: {\n    browser: true,\n    es6: true\n  },\n  extends: [\n    \'standard\'\n  ],\n  parserOptions: {\n    ecmaVersion: 2015\n  },\n  rules: {\n    \'no-alert\': "error"\n  },\n  globals: {\n    "jQuery": "readonly"\n  }\n}\n\n')])])]),s("p",[s("strong",[t._v("env")]),t._v(": 标记代码的运行环境,以下是 env 可以配置的环境")]),t._v(" "),s("p",[s("img",{attrs:{src:"/engineering/eslint_env.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("extends")]),t._v(": 继承一些共享的配置")]),t._v(" "),s("p",[s("strong",[t._v("parserOptions")]),t._v(": 设置语法解析器的相关配置，控制是否使用某个 ES 版本的语法")]),t._v(" "),s("p",[s("strong",[t._v("rules")]),t._v(": 控制 eslint 每个校验规则的开启和关闭，更多校验规则可以参考文档"),s("a",{attrs:{href:"https://eslint.org/docs/rules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rules"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("globals")]),t._v(": 额外声明在代码中可以使用的全局成员")]),t._v(" "),s("h3",{attrs:{id:"eslint-配置注释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-配置注释"}},[t._v("#")]),t._v(" ESLint 配置注释")]),t._v(" "),s("p",[t._v("使用配置注释，可以临时禁用某行的指定规则的报错")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('const str1 = "${name} is a coder" // eslint-disable-line no-template-curly-in-string\n')])])]),s("h3",{attrs:{id:"eslint-结合自动化构建工具-gulp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-结合自动化构建工具-gulp"}},[t._v("#")]),t._v(" ESLint 结合自动化构建工具 Gulp")]),t._v(" "),s("p",[t._v("ESLint 可以集成到项目构建的工作流，在编译或者提交之前进行自动化校验，更加方便管理")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const esLint = () => {\n    return src('src/assets/scripts/*.js', { base: 'src' })\n        .pipe(plugins.eslint())\n        .pipe(plugins.eslint.format())\n        .pipe(plugins.eslint.failAfterError());\n}\n")])])]),s("h3",{attrs:{id:"eslint-结合-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-结合-webpack"}},[t._v("#")]),t._v(" ESLint 结合 webpack")]),t._v(" "),s("p",[t._v("webpack 同样可以集成 ESLint，不过不是通过插件的方式完成，而是通过 loader 机制，对于 eslint 可以使用"),s("code",[t._v("eslint-loader")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"eslint-校验-tpyescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-校验-tpyescript"}},[t._v("#")]),t._v(" ESLint 校验 TpyeScript")]),t._v(" "),s("p",[t._v(".eslintrc")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("module.exports = {\n  env: {\n    browser: true,\n    es2020: true\n  },\n  extends: [\n    'standard'\n  ],\n  parser: '@typescript-eslint/parser',\n  parserOptions: {\n    ecmaVersion: 11\n  },\n  plugins: [\n    '@typescript-eslint'\n  ],\n  rules: {\n  }\n}\n")])])]),s("h3",{attrs:{id:"eslint-结合-git-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-结合-git-hooks"}},[t._v("#")]),t._v(" ESLint 结合 Git Hooks")]),t._v(" "),s("p",[t._v("通过 "),s("a",{attrs:{href:"https://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git Hooks"),s("OutboundLink")],1),t._v(" 在代码提交前强制 lint，防止代码提交至仓库之前未执行 lint 工作")]),t._v(" "),s("p",[t._v("使用 "),s("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("Husky"),s("OutboundLink")],1),t._v(" 可以实现 Git Hooks 的使用需求")]),t._v(" "),s("p",[t._v("// 在提交前进行校验")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    "husky": [\n        "hooks": {\n            "pre-commit": "npm run lint"\n        }\n    ]\n}\n')])])]),s("h2",{attrs:{id:"stylelint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stylelint"}},[t._v("#")]),t._v(" Stylelint")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://stylelint.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stylelint"),s("OutboundLink")],1),t._v("使用方式 ESLint 大体相同这里不做更多介绍，可以帮助校验 css 和 sass 等样式文件")]),t._v(" "),s("h2",{attrs:{id:"prettier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prettier"}},[t._v("#")]),t._v(" Prettier")]),t._v(" "),s("p",[t._v("使用"),s("a",{attrs:{href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier"),s("OutboundLink")],1),t._v("可以帮助完成代码格式的规范")]),t._v(" "),s("h2",{attrs:{id:"更多参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更多参考"}},[t._v("#")]),t._v(" 更多参考")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESlint 文档"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);