{"remainingRequest":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/licop/Documents/GitHub/What_is_FE/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js??ref--1-0!/Users/licop/Documents/GitHub/What_is_FE/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??ref--1-1!/Users/licop/Documents/GitHub/What_is_FE/node_modules/_@vuepress_markdown-loader@1.7.1@@vuepress/markdown-loader/index.js??ref--1-2!/Users/licop/Documents/GitHub/What_is_FE/docs/syntax&API/ES语法/promise源码实现.md?vue&type=template&id=8aab5d34&","dependencies":[{"path":"/Users/licop/Documents/GitHub/What_is_FE/docs/syntax&API/ES语法/promise源码实现.md","mtime":1609602949026},{"path":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/licop/Documents/GitHub/What_is_FE/node_modules/_@vuepress_markdown-loader@1.7.1@@vuepress/markdown-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkgewogIHZhciBfdm0gPSB0aGlzCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oCiAgcmV0dXJuIF9jKAogICAgIkNvbnRlbnRTbG90c0Rpc3RyaWJ1dG9yIiwKICAgIHsgYXR0cnM6IHsgInNsb3Qta2V5IjogX3ZtLiRwYXJlbnQuc2xvdEtleSB9IH0sCiAgICBbCiAgICAgIF9jKCJoMSIsIHsgYXR0cnM6IHsgaWQ6ICJwcm9taXNlLea6kOeggeWunueOsCIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICAgICAgICAgIGF0dHJzOiB7IGhyZWY6ICIjcHJvbWlzZS3mupDnoIHlrp7njrAiIH0KICAgICAgICAgIH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiBQcm9taXNlIOa6kOeggeWunueOsCIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KCLnlKjkuoYiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoIlByb21pc2UiKV0pLAogICAgICAgIF92bS5fdigi6L+Z5LmI5LmF77yM5bqU6K+l5a+5IiksCiAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJQcm9taXNlIildKSwKICAgICAgICBfdm0uX3YoIuS9v+eUqOaWueazleWSjOebuOWFs+WxnuaAp+W+iOeGn+aCieS6hu+8jOacrOaWh+WwhuS4gOatpeS4gOatpee8luWGmSIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiUHJvbWlzZSIpXSksCiAgICAgICAgX3ZtLl92KCLnmoTmupDnoIHvvIzlrp7njrDlhbbln7rmnKzlip/og73jgIIiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICJwcm9taXNlLeexu+aguOW/g+mAu+i+keWunueOsCIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICAgICAgICAgIGF0dHJzOiB7IGhyZWY6ICIjcHJvbWlzZS3nsbvmoLjlv4PpgLvovpHlrp7njrAiIH0KICAgICAgICAgIH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiBQcm9taXNlIOexu+aguOW/g+mAu+i+keWunueOsCIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbX3ZtLl92KCLlnKjlhpnku6PnoIHlhYjnnIvkuIDkuIsgUHJvbWlzZSDnmoTkuIDkupvln7rnoYDnibnmgKfvvJoiKV0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInVsIiwgWwogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiUHJvbWlzZSIpXSksCiAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICIg5bCx5piv5LiA5Liq57G7IOWcqOaJp+ihjOi/meS4quexu+eahOaXtuWAmSDpnIDopoHkvKDpgJLkuIDkuKrmiafooYzlmajov5vljrsg5omn6KGM5Zmo5Lya56uL5Y2z5omn6KGMIgogICAgICAgICAgKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiICIpLAogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiUHJvbWlzZSIpXSksCiAgICAgICAgICBfdm0uX3YoIuS4reacieS4ieenjeeKtuaAgSDliIbliKvkuLog5oiQ5YqfICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJmdWxmaWxsZWQiKV0pLAogICAgICAgICAgX3ZtLl92KCIg5aSx6LSlICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJyZWplY3RlZCIpXSksCiAgICAgICAgICBfdm0uX3YoIiDnrYnlvoUgIiksCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInBlbmRpbmciKV0pLAogICAgICAgICAgX3ZtLl92KCJcbuWFtuS4reeKtuaAgeWPquiDveS7jiAiKSwKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigicGVuZGluZyIpXSksCiAgICAgICAgICBfdm0uX3YoIiAtPiAiKSwKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiZnVsZmlsbGVkIildKSwKICAgICAgICAgIF92bS5fdigiIOaIliAiKSwKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigicGVuZGluZyIpXSksCiAgICAgICAgICBfdm0uX3YoIiAtPiAiKSwKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigicmVqZWN0ZWQiKV0pLAogICAgICAgICAgX3ZtLl92KCIg5LiA5pem54q25oCB56Gu5a6a5bCx5LiN5Y+v5pu05pS5IikKICAgICAgICBdKSwKICAgICAgICBfdm0uX3YoIiAiKSwKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInJlc29sdmUiKV0pLAogICAgICAgICAgX3ZtLl92KCIg5ZKMICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJyZWplY3QiKV0pLAogICAgICAgICAgX3ZtLl92KCIg5Ye95pWw5piv55So5p2l5pu05pS554q25oCB55qEIikKICAgICAgICBdKSwKICAgICAgICBfdm0uX3YoIiAiKSwKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAiIOaWueazleWGhemDqOWBmueahOS6i+aDheWwseWIpOaWreeKtuaAgSDlpoLmnpznirbmgIHmmK/miJDlip8g6LCD55So5oiQ5Yqf55qE5Zue6LCD5Ye95pWwIOWmguaenOeKtuaAgeaYr+Wksei0pSDosIPnlKjlpLHotKXlm57osIPlh73mlbAgdGhlbiDmlrnms5XmmK/ooqvlrprkuYnlnKjljp/lnovlr7nosaHkuK3nmoQiCiAgICAgICAgICApCiAgICAgICAgXSksCiAgICAgICAgX3ZtLl92KCIgIiksCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJ0aGVuIildKSwKICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgIiDmiJDlip/lm57osIPmnInkuIDkuKrlj4LmlbAg6KGo56S65oiQ5Yqf5LmL5ZCO55qE5YC8IHRoZW4g5aSx6LSl5Zue6LCD5pyJ5LiA5Liq5Y+C5pWwIOihqOekuuWksei0peWQjueahOWOn+WboCIKICAgICAgICAgICkKICAgICAgICBdKSwKICAgICAgICBfdm0uX3YoIiAiKSwKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfdm0uX3YoIuWQjOS4gOS4qiAiKSwKICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigicHJvbWlzZSIpXSksCiAgICAgICAgICBfdm0uX3YoIiDlr7nosaHkuIvpnaLnmoQgIiksCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KCIg5pa55rOV5piv5Y+v5Lul6KKr6LCD55So5aSa5qyh55qEIikKICAgICAgICBdKSwKICAgICAgICBfdm0uX3YoIiAiKSwKICAgICAgICBfYygibGkiLCBbCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KCIg5pa55rOV5piv5Y+v5Lul6KKr6ZO+5byP6LCD55So55qELCDlkI7pnaIgIiksCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KCIg5pa55rOV55qE5Zue6LCD5Ye95pWw5ou/5Yiw5YC855qE5piv5LiK5LiA5LiqICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJ0aGVuIildKSwKICAgICAgICAgIF92bS5fdigiIOaWueazleeahOWbnuiwg+WHveaVsOeahOi/lOWbnuWAvCIpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoIueUseS7peS4iueJueaAp+WunueOsCAiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoIlByb21pc2UiKV0pLAogICAgICAgIF92bS5fdigiIOexu+eahOaguOW/g+mAu+i+kSwg6Zmk5LqGIiksCiAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJ0aGVuIildKSwKICAgICAgICBfdm0uX3YoIiDmlrnms5Xpk77lvI/osIPnlKjlip/og70iKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJkaXYiLCB7IHN0YXRpY0NsYXNzOiAibGFuZ3VhZ2UtIGV4dHJhLWNsYXNzIiB9LCBbCiAgICAgICAgX2MoInByZSIsIHsgcHJlOiB0cnVlLCBhdHRyczogeyBjbGFzczogImxhbmd1YWdlLXRleHQiIH0gfSwgWwogICAgICAgICAgX2MoImNvZGUiLCBbCiAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAiY29uc3QgUEVORElORyA9ICdwZW5kaW5nJzsgLy8g562J5b6FXG5jb25zdCBGVUxGSUxMRUQgPSAnZnVsbGlsbGVkJyAvLyDmiJDlip9cbmNvbnN0IFJFSkVDVEVEID0gJ3JlamVjdGVkJyAvLyDlpLHotKVcblxuY2xhc3MgTXlQcm9taXNlIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBleGVjdXRvcih0aGlzLnJlc29sdmUsIHRoaXMucmVqZWN0KVxuICB9XG4gIC8vIHByb21pc2Ug54q25oCBXG4gIHN0YXR1cyA9IFBFTkRJTkc7XG4gIC8vIOaIkOWKn+S5i+WQjueahOWAvFxuICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgLy8g5aSx6LSl5LmL5ZCO55qE5YC8XG4gIHJlYXNvbiA9IHVuZGVmaW5lZDtcblxuXG4gIHJlc29sdmUgPSAodmFsdWUpID0+IHtcbiAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgIC8vIOWwhueKtuaAgeabtOaUueS4uuaIkOWKn1xuICAgIHRoaXMuc3RhdHVzID0gRlVMRklMTEVEO1xuICAgIC8vIOS/neWtmOaIkOWKn+S5i+WQjueahOWAvFxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICB9XG5cbiAgcmVqZWN0ID0gKHJlYXNvbikgPT4ge1xuICAgIGlmKHRoaXMuc3RhdHVzICE9PSBQRU5ESU5HKSByZXR1cm47XG4gICAgLy8g5bCG54q25oCB5pu05pS55Li65aSx6LSlXG4gICAgdGhpcy5zdGF0dXMgPSBSRUpFQ1RFRDtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgfVxuXG4gIHRoZW4gPSAoc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spID0+IHtcbiAgICAvLyDliKTmlq3nirbmgIFcbiAgICBpZih0aGlzLnN0YXR1cyA9PT0gRlVMRklMTEVEKSB7XG4gICAgICBzdWNjZXNzQ2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdHVzID09PSBSRUpFQ1RFRCkge1xuICAgICAgZmFpbENhbGxiYWNrKHRoaXMucmVhc29uKTtcbiAgICB9XG4gIH1cbn1cblxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygiaDIiLCB7IGF0dHJzOiB7IGlkOiAi5Yqg5YWl5byC5q2l6YC76L6RIiB9IH0sIFsKICAgICAgICBfYygKICAgICAgICAgICJhIiwKICAgICAgICAgIHsgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwgYXR0cnM6IHsgaHJlZjogIiPliqDlhaXlvILmraXpgLvovpEiIH0gfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOWKoOWFpeW8guatpemAu+i+kSIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KCLlj6/ku6Xlj5HnjrDku6XkuIrku6PnoIHlvZMiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoImV4ZWN1dG9yIildKSwKICAgICAgICBfdm0uX3YoIuWGheWMheWQq+W8guatpeS7o+eggeaYr+aciemXrumimOeahO+8jCIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigidGhlbiIpXSksCiAgICAgICAgX3ZtLl92KCLmlrnms5XlvIDlp4vmiafooYzlkI7vvIwiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInJlc29sdmUiKV0pLAogICAgICAgIF92bS5fdigi5pa55rOV6LCD55So6L+Y5rKh5pS55Y+Y54q25oCB77yM5omA5Lul5byC5q2l5Ye95pWw5rKh5pyJ6LCD55So44CCIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgIF92bS5fdigKICAgICAgICAgICIg5pa55rOV5Yqg5YWl5byC5q2l6YC76L6RLOetieW8guatpeS7u+WKoeaJp+ihjOWujOWcqOaJp+ihjOWbnuiwg+WHveaVsO+8jOWwhuWbnuiwg+WHveaVsOWcqCAiCiAgICAgICAgKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInBlbmRpbmciKV0pLAogICAgICAgIF92bS5fdigiIOeKtuaAgeS4i+WtmOWCqOi1t+adpe+8jOetieW+heaIkOWKn+aIluWksei0peS5i+WQjuWGjeiwg+eUqOOAgiIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICBfYygicHJlIiwgeyBwcmU6IHRydWUsIGF0dHJzOiB7IGNsYXNzOiAibGFuZ3VhZ2UtdGV4dCIgfSB9LCBbCiAgICAgICAgICBfYygiY29kZSIsIFsKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICJjbGFzcyBNeVByb21pc2Uge1xuICAgIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgICAgIGV4ZWN1dG9yKHRoaXMucmVzb2x2ZSwgdGhpcy5yZWplY3QpXG4gICAgfVxuICAgIC8vIHByb21pc2Ug54q25oCBXG4gICAgc3RhdHVzID0gUEVORElORztcbiAgICAvLyDmiJDlip/kuYvlkI7nmoTlgLxcbiAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAvLyDlpLHotKXkuYvlkI7nmoTlgLxcbiAgICByZWFzb24gPSB1bmRlZmluZWRcbiAgICAvLyDmiJDlip/lm57osINcbiAgICBzdWNjZXNzQ2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgLy8g5aSx6LSl5Zue6LCDXG4gICAgZmFpbENhbGxiYWNrID0gdW5kZWZpbmVkO1xuXG4gICAgcmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgICAgICAvLyDlsIbnirbmgIHmm7TmlLnkuLrmiJDlip9cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBGVUxGSUxMRUQ7XG4gICAgICAgIC8vIOS/neWtmOaIkOWKn+S5i+WQjueahOWAvFxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgICAgLy8g5Yik5pat5oiQ5Yqf5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrICYmIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKHRoaXMudmFsdWUpXG4gICAgfVxuXG4gICAgcmVqZWN0ID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgICAgICAvLyDlsIbnirbmgIHmm7TmlLnkuLrlpLHotKVcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBSRUpFQ1RFRDtcbiAgICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgICAgIC8vIOWIpOaWreWksei0peWbnuiwg+aYr+WQpuWtmOWcqO+8jOWmguaenOWtmOWcqOiwg+eUqFxuICAgICAgICB0aGlzLmZhaWxDYWxsYmFjayAmJiB0aGlzLmZhaWxDYWxsYmFjayh0aGlzLnZhbHVlKVxuICAgIH1cblxuICAgIHRoZW4gPSAoc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spID0+IHtcbiAgICAgICAgLy8g5Yik5pat54q25oCBXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzID09PSBGVUxGSUxMRUQpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayh0aGlzLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuc3RhdHVzID09PSBSRUpFQ1RFRCkge1xuICAgICAgICAgICAgZmFpbENhbGxiYWNrKHRoaXMucmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOetieW+hVxuICAgICAgICAgICAgLy8g5bCG5oiQ5Yqf5Zue6LCD5ZKM5aSx6LSl5Zue6LCD5a2Y5YKo6LW35p2lXG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjayA9IHN1Y2Nlc3NDYWxsYmFjaztcbiAgICAgICAgICAgIHRoaXMuZmFpbENhbGxiYWNrID0gZmFpbENhbGxiYWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICJ0aGVuLea3u+WKoOWkmuS4quWkhOeQhuWHveaVsCIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICAgICAgICAgIGF0dHJzOiB7IGhyZWY6ICIjdGhlbi3mt7vliqDlpJrkuKrlpITnkIblh73mlbAiIH0KICAgICAgICAgIH0sCiAgICAgICAgICBbX3ZtLl92KCIjIildCiAgICAgICAgKSwKICAgICAgICBfdm0uX3YoIiB0aGVuIOa3u+WKoOWkmuS4quWkhOeQhuWHveaVsCIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KCLnm67liY0iKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoIlByb21pc2UiKV0pLAogICAgICAgIF92bS5fdigi5Y+q5pSv5oyB5LiA5LiqIHRoZW4g5pa55rOV44CCIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygicCIsIFsKICAgICAgICBfdm0uX3YoIuWunueOsCAiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgIF92bS5fdigiIOa3u+WKoOWkmuS4quWkhOeQhuWHveaVsO+8jOWwhiAiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoaXMuc3VjY2Vzc0NhbGxiYWNrIildKSwKICAgICAgICBfdm0uX3YoIiwgIiksCiAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJ0aGlzLmZhaWxDYWxsYmFjayIpXSksCiAgICAgICAgX3ZtLl92KCIg5Y+Y5oiQ5pWw57uEIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgImNsYXNzIE15UHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICAgICAgZXhlY3V0b3IodGhpcy5yZXNvbHZlLCB0aGlzLnJlamVjdClcbiAgICB9XG4gICAgLy8gcHJvbWlzZSDnirbmgIFcbiAgICBzdGF0dXMgPSBQRU5ESU5HO1xuICAgIC8vIOaIkOWKn+S5i+WQjueahOWAvFxuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIC8vIOWksei0peS5i+WQjueahOWAvFxuICAgIHJlYXNvbiA9IHVuZGVmaW5lZFxuICAgIC8vIOaIkOWKn+Wbnuiwg1xuICAgIHN1Y2Nlc3NDYWxsYmFjayA9IFtdO1xuICAgIC8vIOWksei0peWbnuiwg1xuICAgIGZhaWxDYWxsYmFjayA9IFtdO1xuXG4gICAgcmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgICAgICAvLyDlsIbnirbmgIHmm7TmlLnkuLrmiJDlip9cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBGVUxGSUxMRUQ7XG4gICAgICAgIC8vIOS/neWtmOaIkOWKn+S5i+WQjueahOWAvFxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgICAgLy8g5Yik5pat5oiQ5Yqf5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHdoaWxlKHRoaXMuc3VjY2Vzc0NhbGxiYWNrLmxlbmd0aCkgdGhpcy5zdWNjZXNzQ2FsbGJhY2suc2hpZnQoKSh0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICByZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBQRU5ESU5HKSByZXR1cm47XG4gICAgICAgIC8vIOWwhueKtuaAgeabtOaUueS4uuWksei0pVxuICAgICAgICB0aGlzLnN0YXR1cyA9IFJFSkVDVEVEO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgLy8g5Yik5pat5aSx6LSl5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHdoaWxlKHRoaXMuZmFpbENhbGxiYWNrLmxlbmd0aCkgdGhpcy5mYWlsQ2FsbGJhY2suc2hpZnQoKSh0aGlzLnJlYXNvbik7XG5cbiAgICB9XG5cbiAgICB0aGVuID0gKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbENhbGxiYWNrKSA9PiB7XG4gICAgICAgIC8vIOWIpOaWreeKtuaAgVxuICAgICAgICBpZih0aGlzLnN0YXR1cyA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXR1cyA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgICAgIGZhaWxDYWxsYmFjayh0aGlzLnJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDnrYnlvoVcbiAgICAgICAgICAgIC8vIOWwhuaIkOWKn+Wbnuiwg+WSjOWksei0peWbnuiwg+WtmOWCqOi1t+adpVxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzQ2FsbGJhY2sucHVzaChzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5mYWlsQ2FsbGJhY2sucHVzaChmYWlsQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygiaDIiLCB7IGF0dHJzOiB7IGlkOiAidGhlbi3mlrnms5XnmoTpk77lvI/osIPnlKgiIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgewogICAgICAgICAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgICAgICAgICBhdHRyczogeyBocmVmOiAiI3RoZW4t5pa55rOV55qE6ZO+5byP6LCD55SoIiB9CiAgICAgICAgICB9LAogICAgICAgICAgW192bS5fdigiIyIpXQogICAgICAgICksCiAgICAgICAgX3ZtLl92KCIgdGhlbiDmlrnms5XnmoTpk77lvI/osIPnlKgiKQogICAgICBdKSwKICAgICAgX3ZtLl92KCIgIiksCiAgICAgIF9jKCJwIiwgWwogICAgICAgIF92bS5fdigi5a6e546wICIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigidGhlbiIpXSksCiAgICAgICAgX3ZtLl92KCIg5pa55rOV55qE6ZO+5byP6LCD55So77yM5bm25bCGICIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigidGhlbiIpXSksCiAgICAgICAgX3ZtLl92KCIg5pa55rOV55qE6L+U5Zue5YC85Lyg6YCS57uZ5LiL5LiA5LiqICIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigidGhlbiIpXSksCiAgICAgICAgX3ZtLl92KCIg5pa55rOVIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygidWwiLCBbCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KCLlsIYgIiksCiAgICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoInRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAi6L+U5Zue5LiA5LiqIHByb21pc2Ug5a+56LGh77yM5Yik5pat5Zue6LCD5Ye95pWw6L+U5Zue55qE5piv5pmu6YCa5YC86L+Y5pivIHByb21pc2Ug5a+56LGhIgogICAgICAgICAgKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiICIpLAogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF92bS5fdigi5b2TICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJwcm9taXNlLnRoZW4iKV0pLAogICAgICAgICAgX3ZtLl92KCIg6L+U5Zue5ZKM6Ieq6Lqr55u45ZCM55qEICIpLAogICAgICAgICAgX2MoImNvZGUiLCBbX3ZtLl92KCJwcm9taXNlIildKSwKICAgICAgICAgIF92bS5fdigiIOaKm+WHuumUmeivryIpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgImNsYXNzIE15UHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICAgICAgZXhlY3V0b3IodGhpcy5yZXNvbHZlLCB0aGlzLnJlamVjdClcbiAgICB9XG4gICAgLy8gcHJvbWlzZSDnirbmgIFcbiAgICBzdGF0dXMgPSBQRU5ESU5HO1xuICAgIC8vIOaIkOWKn+S5i+WQjueahOWAvFxuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIC8vIOWksei0peS5i+WQjueahOWAvFxuICAgIHJlYXNvbiA9IHVuZGVmaW5lZFxuICAgIC8vIOaIkOWKn+Wbnuiwg1xuICAgIHN1Y2Nlc3NDYWxsYmFjayA9IFtdO1xuICAgIC8vIOWksei0peWbnuiwg1xuICAgIGZhaWxDYWxsYmFjayA9IFtdO1xuXG4gICAgcmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgICAgICAvLyDlsIbnirbmgIHmm7TmlLnkuLrmiJDlip9cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBGVUxGSUxMRUQ7XG4gICAgICAgIC8vIOS/neWtmOaIkOWKn+S5i+WQjueahOWAvFxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgICAgLy8g5Yik5pat5oiQ5Yqf5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHdoaWxlKHRoaXMuc3VjY2Vzc0NhbGxiYWNrLmxlbmd0aCkgdGhpcy5zdWNjZXNzQ2FsbGJhY2suc2hpZnQoKSh0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICByZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBQRU5ESU5HKSByZXR1cm47XG4gICAgICAgIC8vIOWwhueKtuaAgeabtOaUueS4uuWksei0pVxuICAgICAgICB0aGlzLnN0YXR1cyA9IFJFSkVDVEVEO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgLy8g5Yik5pat5aSx6LSl5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHdoaWxlKHRoaXMuZmFpbENhbGxiYWNrLmxlbmd0aCkgdGhpcy5mYWlsQ2FsbGJhY2suc2hpZnQoKSh0aGlzLnJlYXNvbik7XG5cbiAgICB9XG5cbiAgICB0aGVuID0gKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbENhbGxiYWNrKSA9PiB7XG4gICAgICAgIGxldCBwcm9taXNlMiA9IG5ldyBNeVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8g5Yik5pat54q25oCBXG4gICAgICAgICAgICBpZih0aGlzLnN0YXR1cyA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgICAgICAgICAgLy8g5Y+Y5oiQ5byC5q2l5Luj56CB77yM562JcHJvbWlzZTLkuLvmtYHnqIvmiafooYzlrozlkI7lho3osIPnlKjvvIzlj6/ojrflj5Zwcm9taXNlMlxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IHN1Y2Nlc3NDYWxsYmFjayh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pateOeahOWAvOaYr+aZrumAmuWAvOi/mOaYr3Byb21pc2Xlr7nosaFcbiAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv5pmu6YCa5YC8IOebtOaOpeiwg+eUqHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5pivcHJvbWlzZeWvueixoSDmn6XnnItwcm9taXNl5a+56LGh55qE6L+U5Zue57uT5p6cXG4gICAgICAgICAgICAgICAgICAgIC8vIOWGjeagueaNrnByb21pc2Xlr7nosaHnmoTov5Tlm57mja7nu5PmnpzlhrPlrprosIPnlKhyZXNvbHZl6L+Y5piv6LCD55SocmVqZWN0XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCB4LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXR1cyA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgICAgICAgICBmYWlsQ2FsbGJhY2sodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDnrYnlvoVcbiAgICAgICAgICAgICAgICAvLyDlsIbmiJDlip/lm57osIPlkozlpLHotKXlm57osIPlrZjlgqjotbfmnaVcbiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjay5wdXNoKHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWlsQ2FsbGJhY2sucHVzaChmYWlsQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlMjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCB4LCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyDlvZNwcm9taXNlLnRoZW4g6L+U5Zue5ZKM6Ieq6Lqr55u45ZCMcHJvbWlzZeaKpemUmVxuICAgIGlmKHByb21pc2UyID09PSB4KSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignQ2hhaW5pbmcgY3ljbGUgZGV0ZWN0ZWQgZm9yIHByb21pc2UgIzxQcm9taXNlPicpKVxuICAgIH1cbiAgICBpZih4IGluc3RhbmNlb2YgTXlQcm9taXNlKSB7XG4gICAgICAgIHgudGhlbihyZXNvbHZlLCByZWplY3QpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5pmu6YCa5YC8XG4gICAgICAgIHJlc29sdmUoeClcbiAgICB9XG59XG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF9jKCJoMiIsIHsgYXR0cnM6IHsgaWQ6ICLmjZXojrfplJnor68tdGhlbi3mlrnms5XlrozlloQiIH0gfSwgWwogICAgICAgIF9jKAogICAgICAgICAgImEiLAogICAgICAgICAgewogICAgICAgICAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgICAgICAgICBhdHRyczogeyBocmVmOiAiI+aNleiOt+mUmeivry10aGVuLeaWueazleWujOWWhCIgfQogICAgICAgICAgfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOaNleiOt+mUmeivryAmIHRoZW4g5pa55rOV5a6M5ZaEIikKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygidWwiLCBbCiAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAi5Zyo5omn6KGM5Zmo5ZKM5Zue6LCD5Ye95pWw5re75YqgIHRyeSBjYXRjaCDlvILluLjmjZXojrfvvIzlvZPlj5HmiJDplJnor6/mmK/liJnnm7TmjqXosIPnlKggcmVqZWN0IgogICAgICAgICAgKQogICAgICAgIF0pLAogICAgICAgIF92bS5fdigiICIpLAogICAgICAgIF9jKCJsaSIsIFsKICAgICAgICAgIF92bS5fdigi5bCGIHRoZW4g5pa55rOV55qE5Y+C5pWw5Y+Y5oiQ5Y+v6YCJ5Y+C5pWwXG4iKSwKICAgICAgICAgIF9jKCJ1bCIsIFsKICAgICAgICAgICAgX2MoImxpIiwgWwogICAgICAgICAgICAgIF92bS5fdigKICAgICAgICAgICAgICAgICJwcm9taXNlLnRoZW4oKS50aGVuKCkudGhlbih2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpIOacgOWQjueahCIKICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigidGhlbiIpXSksCiAgICAgICAgICAgICAgX3ZtLl92KCLmlrnms5XnmoQgdmFsdWUg5Y+v5Lul5o6l5pS25YiwIHByb21pc2Ug55qE6L+U5Zue5YC8IikKICAgICAgICAgICAgXSkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIF92bS5fdigiICIpLAogICAgICBfYygiZGl2IiwgeyBzdGF0aWNDbGFzczogImxhbmd1YWdlLSBleHRyYS1jbGFzcyIgfSwgWwogICAgICAgIF9jKCJwcmUiLCB7IHByZTogdHJ1ZSwgYXR0cnM6IHsgY2xhc3M6ICJsYW5ndWFnZS10ZXh0IiB9IH0sIFsKICAgICAgICAgIF9jKCJjb2RlIiwgWwogICAgICAgICAgICBfdm0uX3YoCiAgICAgICAgICAgICAgImNsYXNzIE15UHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKHRoaXMucmVzb2x2ZSwgdGhpcy5yZWplY3QpXG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgdGhpcy5yZWplY3QoZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHByb21pc2Ug54q25oCBXG4gICAgc3RhdHVzID0gUEVORElORztcbiAgICAvLyDmiJDlip/kuYvlkI7nmoTlgLxcbiAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAvLyDlpLHotKXkuYvlkI7nmoTlgLxcbiAgICByZWFzb24gPSB1bmRlZmluZWRcbiAgICAvLyDmiJDlip/lm57osINcbiAgICBzdWNjZXNzQ2FsbGJhY2sgPSBbXTtcbiAgICAvLyDlpLHotKXlm57osINcbiAgICBmYWlsQ2FsbGJhY2sgPSBbXTtcblxuICAgIHJlc29sdmUgPSAodmFsdWUpID0+IHtcbiAgICAgICAgaWYodGhpcy5zdGF0dXMgIT09IFBFTkRJTkcpIHJldHVybjtcbiAgICAgICAgLy8g5bCG54q25oCB5pu05pS55Li65oiQ5YqfXG4gICAgICAgIHRoaXMuc3RhdHVzID0gRlVMRklMTEVEO1xuICAgICAgICAvLyDkv53lrZjmiJDlip/kuYvlkI7nmoTlgLxcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgICAgIC8vIOWIpOaWreaIkOWKn+Wbnuiwg+aYr+WQpuWtmOWcqO+8jOWmguaenOWtmOWcqOiwg+eUqFxuICAgICAgICB3aGlsZSh0aGlzLnN1Y2Nlc3NDYWxsYmFjay5sZW5ndGgpIHRoaXMuc3VjY2Vzc0NhbGxiYWNrLnNoaWZ0KCkoKTtcbiAgICB9XG5cbiAgICByZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBQRU5ESU5HKSByZXR1cm47XG4gICAgICAgIC8vIOWwhueKtuaAgeabtOaUueS4uuWksei0pVxuICAgICAgICB0aGlzLnN0YXR1cyA9IFJFSkVDVEVEO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgLy8g5Yik5pat5aSx6LSl5Zue6LCD5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo6LCD55SoXG4gICAgICAgIHdoaWxlKHRoaXMuZmFpbENhbGxiYWNrLmxlbmd0aCkgdGhpcy5mYWlsQ2FsbGJhY2suc2hpZnQoKSgpO1xuXG4gICAgfVxuXG4gICAgdGhlbiA9IChzdWNjZXNzQ2FsbGJhY2ssIGZhaWxDYWxsYmFjaykgPT4ge1xuICAgICAgICBzdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2sgfHwgKHZhbHVlID0+IHZhbHVlKTtcbiAgICAgICAgZmFpbENhbGxiYWNrID0gZmFpbENhbGxiYWNrIHx8IChyZWFzb24gPT4ge3Rocm93IHJlYXNvbn0pO1xuXG4gICAgICAgIGxldCBwcm9taXNlMiA9IG5ldyBNeVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8g5Yik5pat54q25oCBXG4gICAgICAgICAgICBpZih0aGlzLnN0YXR1cyA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgICAgICAgICAgLy8g5Y+Y5oiQ5byC5q2l5Luj56CB77yM562JcHJvbWlzZTLkuLvmtYHnqIvmiafooYzlrozlkI7lho3osIPnlKjvvIzlj6/ojrflj5Zwcm9taXNlMlxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBzdWNjZXNzQ2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq1455qE5YC85piv5pmu6YCa5YC86L+Y5pivcHJvbWlzZeWvueixoVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv5pmu6YCa5YC8IOebtOaOpeiwg+eUqHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr3Byb21pc2Xlr7nosaEg5p+l55yLcHJvbWlzZeWvueixoeeahOi/lOWbnue7k+aenFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaN5qC55o2ucHJvbWlzZeWvueixoeeahOi/lOWbnuaNrue7k+aenOWGs+Wumuiwg+eUqHJlc29sdmXov5jmmK/osIPnlKhyZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCB4LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMuc3RhdHVzID09PSBSRUpFQ1RFRCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBmYWlsQ2FsbGJhY2sodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pateOeahOWAvOaYr+aZrumAmuWAvOi/mOaYr3Byb21pc2Xlr7nosaFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+aZrumAmuWAvCDnm7TmjqXosIPnlKhyZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK9wcm9taXNl5a+56LGhIOafpeeci3Byb21pc2Xlr7nosaHnmoTov5Tlm57nu5PmnpxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWGjeagueaNrnByb21pc2Xlr7nosaHnmoTov5Tlm57mja7nu5PmnpzlhrPlrprosIPnlKhyZXNvbHZl6L+Y5piv6LCD55SocmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgeCwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8g562J5b6FXG4gICAgICAgICAgICAgICAgLy8g5bCG5oiQ5Yqf5Zue6LCD5ZKM5aSx6LSl5Zue6LCD5a2Y5YKo6LW35p2lXG4gICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzQ2FsbGJhY2sucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IHN1Y2Nlc3NDYWxsYmFjayh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq1455qE5YC85piv5pmu6YCa5YC86L+Y5pivcHJvbWlzZeWvueixoVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+aZrumAmuWAvCDnm7TmjqXosIPnlKhyZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5pivcHJvbWlzZeWvueixoSDmn6XnnItwcm9taXNl5a+56LGh55qE6L+U5Zue57uT5p6cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaN5qC55o2ucHJvbWlzZeWvueixoeeahOi/lOWbnuaNrue7k+aenOWGs+Wumuiwg+eUqHJlc29sdmXov5jmmK/osIPnlKhyZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgeCwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFpbENhbGxiYWNrLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBmYWlsQ2FsbGJhY2sodGhpcy5yZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIpOaWrXjnmoTlgLzmmK/mma7pgJrlgLzov5jmmK9wcm9taXNl5a+56LGhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv5pmu6YCa5YC8IOebtOaOpeiwg+eUqHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK9wcm9taXNl5a+56LGhIOafpeeci3Byb21pc2Xlr7nosaHnmoTov5Tlm57nu5PmnpxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlho3moLnmja5wcm9taXNl5a+56LGh55qE6L+U5Zue5o2u57uT5p6c5Yaz5a6a6LCD55SocmVzb2x2Zei/mOaYr+iwg+eUqHJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UyLCB4LCByZXNvbHZlLCByZWplY3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHByb21pc2UyO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIHgsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIOW9k3Byb21pc2UudGhlbiDov5Tlm57lkozoh6rouqvnm7jlkIxwcm9taXNl5oql6ZSZXG4gICAgaWYocHJvbWlzZTIgPT09IHgpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdDaGFpbmluZyBjeWNsZSBkZXRlY3RlZCBmb3IgcHJvbWlzZSAjPFByb21pc2U+JykpXG4gICAgfVxuXG4gICAgaWYoeCBpbnN0YW5jZW9mIE15UHJvbWlzZSkge1xuICAgICAgICB4LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaZrumAmuWAvFxuICAgICAgICByZXNvbHZlKHgpXG4gICAgfVxufVxuIgogICAgICAgICAgICApCiAgICAgICAgICBdKQogICAgICAgIF0pCiAgICAgIF0pLAogICAgICBfYygiaDIiLCB7IGF0dHJzOiB7IGlkOiAi5re75Yqg5pa55rOVLeWujOWWhC1wcm9taXNlLeWKn+iDvSIgfSB9LCBbCiAgICAgICAgX2MoCiAgICAgICAgICAiYSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICAgICAgICAgIGF0dHJzOiB7IGhyZWY6ICIj5re75Yqg5pa55rOVLeWujOWWhC1wcm9taXNlLeWKn+iDvSIgfQogICAgICAgICAgfSwKICAgICAgICAgIFtfdm0uX3YoIiMiKV0KICAgICAgICApLAogICAgICAgIF92bS5fdigiIOa3u+WKoOaWueazle+8jOWujOWWhCBwcm9taXNlIOWKn+iDvSIpCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoInAiLCBbCiAgICAgICAgX3ZtLl92KCLnu5kgTXlQcm9taXNlIOexu+a3u+WKoCIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiYWxsIildKSwKICAgICAgICBfdm0uX3YoIuWSjCIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigicmVzb2x2ZSIpXSksCiAgICAgICAgX3ZtLl92KCLpnZnmgIHmlrnms5XvvIzlkowiKSwKICAgICAgICBfYygiY29kZSIsIFtfdm0uX3YoImNhdGNoIildKSwKICAgICAgICBfdm0uX3YoIuWSjCIpLAogICAgICAgIF9jKCJjb2RlIiwgW192bS5fdigiZmluYWxseSIpXSksCiAgICAgICAgX3ZtLl92KAogICAgICAgICAgIuaWueazle+8jOWujOWWhCBwcm9taXNlIOWKn+iDve+8jOS9v+WFtuabtOaOpei/keecn+WunueahCBQcm9taXNlIOexu++8jOi/meagt+aIkeS7rOiHquW3sSBQcm9taXNlIOexu+WwseWkp+WKn+WRiuaIkOS6hiIKICAgICAgICApCiAgICAgIF0pLAogICAgICBfdm0uX3YoIiAiKSwKICAgICAgX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJsYW5ndWFnZS0gZXh0cmEtY2xhc3MiIH0sIFsKICAgICAgICBfYygicHJlIiwgeyBwcmU6IHRydWUsIGF0dHJzOiB7IGNsYXNzOiAibGFuZ3VhZ2UtdGV4dCIgfSB9LCBbCiAgICAgICAgICBfYygiY29kZSIsIFsKICAgICAgICAgICAgX3ZtLl92KAogICAgICAgICAgICAgICJjb25zdCBQRU5ESU5HID0gJ3BlbmRpbmcnOyAvLyDnrYnlvoVcbmNvbnN0IEZVTEZJTExFRCA9ICdmdWxsaWxsZWQnIC8vIOaIkOWKn1xuY29uc3QgUkVKRUNURUQgPSAncmVqZWN0ZWQnIC8vIOWksei0pVxuXG5jbGFzcyBNeVByb21pc2Uge1xuICAgIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleGVjdXRvcih0aGlzLnJlc29sdmUsIHRoaXMucmVqZWN0KVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KGUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwcm9taXNlIOeKtuaAgVxuICAgIHN0YXR1cyA9IFBFTkRJTkc7XG4gICAgLy8g5oiQ5Yqf5LmL5ZCO55qE5YC8XG4gICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgLy8g5aSx6LSl5LmL5ZCO55qE5YC8XG4gICAgcmVhc29uID0gdW5kZWZpbmVkXG4gICAgLy8g5oiQ5Yqf5Zue6LCDXG4gICAgc3VjY2Vzc0NhbGxiYWNrID0gW107XG4gICAgLy8g5aSx6LSl5Zue6LCDXG4gICAgZmFpbENhbGxiYWNrID0gW107XG5cbiAgICByZXNvbHZlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBQRU5ESU5HKSByZXR1cm47XG4gICAgICAgIC8vIOWwhueKtuaAgeabtOaUueS4uuaIkOWKn1xuICAgICAgICB0aGlzLnN0YXR1cyA9IEZVTEZJTExFRDtcbiAgICAgICAgLy8g5L+d5a2Y5oiQ5Yqf5LmL5ZCO55qE5YC8XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICAgICAgICAvLyDliKTmlq3miJDlip/lm57osIPmmK/lkKblrZjlnKjvvIzlpoLmnpzlrZjlnKjosIPnlKhcbiAgICAgICAgd2hpbGUodGhpcy5zdWNjZXNzQ2FsbGJhY2subGVuZ3RoKSB0aGlzLnN1Y2Nlc3NDYWxsYmFjay5zaGlmdCgpKCk7XG4gICAgfVxuXG4gICAgcmVqZWN0ID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBpZih0aGlzLnN0YXR1cyAhPT0gUEVORElORykgcmV0dXJuO1xuICAgICAgICAvLyDlsIbnirbmgIHmm7TmlLnkuLrlpLHotKVcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBSRUpFQ1RFRDtcbiAgICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgICAgIC8vIOWIpOaWreWksei0peWbnuiwg+aYr+WQpuWtmOWcqO+8jOWmguaenOWtmOWcqOiwg+eUqFxuICAgICAgICB3aGlsZSh0aGlzLmZhaWxDYWxsYmFjay5sZW5ndGgpIHRoaXMuZmFpbENhbGxiYWNrLnNoaWZ0KCkoKTtcblxuICAgIH1cblxuICAgIHRoZW4gPSAoc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spID0+IHtcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrIHx8ICh2YWx1ZSA9PiB2YWx1ZSk7XG4gICAgICAgIGZhaWxDYWxsYmFjayA9IGZhaWxDYWxsYmFjayB8fCAocmVhc29uID0+IHt0aHJvdyByZWFzb259KTtcblxuICAgICAgICBsZXQgcHJvbWlzZTIgPSBuZXcgTXlQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIOWIpOaWreeKtuaAgVxuICAgICAgICAgICAgaWYodGhpcy5zdGF0dXMgPT09IEZVTEZJTExFRCkge1xuICAgICAgICAgICAgICAgIC8vIOWPmOaIkOW8guatpeS7o+egge+8jOetiXByb21pc2Uy5Li75rWB56iL5omn6KGM5a6M5ZCO5YaN6LCD55So77yM5Y+v6I635Y+WcHJvbWlzZTJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gc3VjY2Vzc0NhbGxiYWNrKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pateOeahOWAvOaYr+aZrumAmuWAvOi/mOaYr3Byb21pc2Xlr7nosaFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+aZrumAmuWAvCDnm7TmjqXosIPnlKhyZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK9wcm9taXNl5a+56LGhIOafpeeci3Byb21pc2Xlr7nosaHnmoTov5Tlm57nu5PmnpxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWGjeagueaNrnByb21pc2Xlr7nosaHnmoTov5Tlm57mja7nu5PmnpzlhrPlrprosIPnlKhyZXNvbHZl6L+Y5piv6LCD55SocmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgeCwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnN0YXR1cyA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gZmFpbENhbGxiYWNrKHRoaXMucmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIpOaWrXjnmoTlgLzmmK/mma7pgJrlgLzov5jmmK9wcm9taXNl5a+56LGhXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/mma7pgJrlgLwg55u05o6l6LCD55SocmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5pivcHJvbWlzZeWvueixoSDmn6XnnItwcm9taXNl5a+56LGh55qE6L+U5Zue57uT5p6cXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlho3moLnmja5wcm9taXNl5a+56LGh55qE6L+U5Zue5o2u57uT5p6c5Yaz5a6a6LCD55SocmVzb2x2Zei/mOaYr+iwg+eUqHJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIHgsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIOetieW+hVxuICAgICAgICAgICAgICAgIC8vIOWwhuaIkOWKn+Wbnuiwg+WSjOWksei0peWbnuiwg+WtmOWCqOi1t+adpVxuICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBzdWNjZXNzQ2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pateOeahOWAvOaYr+aZrumAmuWAvOi/mOaYr3Byb21pc2Xlr7nosaFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/mma7pgJrlgLwg55u05o6l6LCD55SocmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr3Byb21pc2Xlr7nosaEg5p+l55yLcHJvbWlzZeWvueixoeeahOi/lOWbnue7k+aenFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWGjeagueaNrnByb21pc2Xlr7nosaHnmoTov5Tlm57mja7nu5PmnpzlhrPlrprosIPnlKhyZXNvbHZl6L+Y5piv6LCD55SocmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZTIsIHgsIHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhaWxDYWxsYmFjay5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gZmFpbENhbGxiYWNrKHRoaXMucmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq1455qE5YC85piv5pmu6YCa5YC86L+Y5pivcHJvbWlzZeWvueixoVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+aZrumAmuWAvCDnm7TmjqXosIPnlKhyZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5pivcHJvbWlzZeWvueixoSDmn6XnnItwcm9taXNl5a+56LGh55qE6L+U5Zue57uT5p6cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaN5qC55o2ucHJvbWlzZeWvueixoeeahOi/lOWbnuaNrue7k+aenOWGs+Wumuiwg+eUqHJlc29sdmXov5jmmK/osIPnlKhyZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgeCwgcmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlMjtcbiAgICB9XG4gICAgLy8g5peg6K6657uT5p6c6L+U5Zue5oiQ5Yqf6L+Y5piv5aSx6LSl6YO96KaB6LCD55So5LiA5qyhXG4gICAgZmluYWxseShjYWxsYmFjaykge1xuICAgICAgICAvLyDpgJrov4d0aGVu5pa55rOV5b6X5Yiw5b2T5YmNcHJvbWlzZeeahOeKtuaAgVxuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBNeVByb21pc2UucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKCgpID0+IHZhbHVlKVxuICAgICAgICB9LCByZWFzb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE15UHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oKCkgPT4ge3Rocm93IHJlYXNvbn0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2F0Y2goZmFpbENhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBmYWlsQ2FsbGJhY2spXG4gICAgfVxuXG4gICAgc3RhdGljIGFsbChhcnJheSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBpbmRleCA9IDBcblxuICAgICAgICByZXR1cm4gbmV3IE15UHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmdW5jdGlvbiBhZGREYXRhKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICAgICAgICAgIGlmKGluZGV4ID09PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBhcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50IGluc3RhbmNlb2YgTXlQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb21pc2Xlr7nosaFcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC50aGVuKHZhbHVlID0+IGFkZERhdGEoaSwgdmFsdWUpLCByZWFzb24gPT4gcmVqZWN0KHJlYXNvbikpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5pmu6YCa5YC8XG4gICAgICAgICAgICAgICAgICAgIGFkZERhdGEoaSwgYXJyYXlbaV0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgTXlQcm9taXNlKSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHJldHVybiBuZXcgTXlQcm9taXNlKHJlc29sdmUgPT4gcmVzb2x2ZSh2YWx1ZSkpXG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlUHJvbWlzZShwcm9taXNlMiwgeCwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8g5b2TcHJvbWlzZS50aGVuIOi/lOWbnuWSjOiHqui6q+ebuOWQjHByb21pc2XmiqXplJlcbiAgICBpZihwcm9taXNlMiA9PT0geCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0NoYWluaW5nIGN5Y2xlIGRldGVjdGVkIGZvciBwcm9taXNlICM8UHJvbWlzZT4nKSlcbiAgICB9XG4gICAgaWYoeCBpbnN0YW5jZW9mIE15UHJvbWlzZSkge1xuICAgICAgICB4LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaZrumAmuWAvFxuICAgICAgICByZXNvbHZlKHgpXG4gICAgfVxufVxuXG4iCiAgICAgICAgICAgICkKICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgICAgXSkKICAgIF0KICApCn0KdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdCnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZQoKZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfQ=="}]}